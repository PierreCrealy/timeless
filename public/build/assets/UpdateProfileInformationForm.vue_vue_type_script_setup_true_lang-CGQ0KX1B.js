import{A as g,p as C,d as M,Q as N,T as _,g as m,b as e,f as x,j as v,D as b,u as t,t as u,h as f,a as n,w as y,x as I,o as p,e as S}from"./app-2C4sW4VX.js";import{_ as V,a as k}from"./TextInput.vue_vue_type_script_setup_true_lang-D9g_GeO8.js";import{_ as D}from"./PrimaryButton.vue_vue_type_script_setup_true_lang-BCMod0cr.js";function P(w){const l=g(""),o=d=>{if(d){const c=new Date(d);l.value=c.toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric"})}else l.value=""};return o(w),C(w,o),l}const T={class:"backgroundColor text-white flex items-center justify-center min-h-screen"},$={class:"bg-gray-800 rounded-lg p-8 max-w-4xl w-full mx-auto space-y-8"},E=["href"],F={class:"space-y-4"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},B={key:0,class:"mt-2 text-sm text-red-600"},j={key:0,class:"mt-2 text-sm text-red-600"},L={key:0,class:"mt-2 text-sm text-red-600"},O={class:"flex items-center gap-4"},Q={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},R={class:"space-y-4"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},K=M({__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{},status:{}},setup(w){const l=N().props.auth.user,o=_({lastname:l.lastname,firstname:l.firstname,email:l.email,avatar:l.avatar}),d=g(null),c=g(null);g(null);const r=_({current_password:"",password:"",password_confirmation:""}),U=()=>{o.put(route("password.update"),{preserveScroll:!0,onSuccess:()=>{o.reset()},onError:()=>{var i,s;r.errors.password&&(r.reset("password","password_confirmation"),(i=d.value)==null||i.focus()),r.errors.current_password&&(r.reset("current_password"),(s=c.value)==null||s.focus())}})};return(i,s)=>(p(),m("section",T,[e("div",$,[e("a",{href:i.route("dashboard")},"retour",8,E),s[23]||(s[23]=e("img",{class:"image rounded-circle",alt:"profile_image",style:{width:"80px",height:"80px",padding:"10px",margin:"0px"}},null,-1)),e("form",{onSubmit:s[0]||(s[0]=x(a=>t(o).post(i.route("profile.updateAvatar")),["prevent"])),method:"POST",enctype:"multipart/form-data"},s[8]||(s[8]=[e("input",{type:"file",name:"image",class:"form-control"},null,-1),e("button",{type:"submit"},"Submit",-1)]),32),e("div",F,[e("form",{onSubmit:s[4]||(s[4]=x(a=>t(o).patch(i.route("profile.update")),["prevent"])),class:"mt-6 space-y-6"},[s[16]||(s[16]=e("h3",{class:"text-xl font-semibold"},"Personal information",-1)),e("div",q,[e("div",A,[e("div",null,[s[9]||(s[9]=e("h4",{class:"text-lg font-semibold"},"Prénom",-1)),v(e("input",{id:"firstname",type:"text",class:"mt-1 block w-full bg-gray-700 text-white border border-gray-600 rounded p-2","onUpdate:modelValue":s[1]||(s[1]=a=>t(o).firstname=a),required:"",autofocus:"",autocomplete:"firstname"},null,512),[[b,t(o).firstname]]),t(o).errors.firstname?(p(),m("div",B,u(t(o).errors.firstname),1)):f("",!0)]),e("div",null,[s[10]||(s[10]=e("h4",{class:"text-lg font-semibold"},"Nom",-1)),v(e("input",{id:"lastname",type:"text",class:"mt-1 block w-full bg-gray-700 text-white border border-gray-600 rounded p-2","onUpdate:modelValue":s[2]||(s[2]=a=>t(o).lastname=a),required:"",autofocus:"",autocomplete:"lastname"},null,512),[[b,t(o).lastname]]),t(o).errors.lastname?(p(),m("div",j,u(t(o).errors.lastname),1)):f("",!0)]),e("div",null,[s[11]||(s[11]=e("h4",{class:"text-lg font-semibold"},"Adresse Email",-1)),v(e("input",{id:"lastname",type:"text",class:"mt-1 block w-full bg-gray-700 text-white border border-gray-600 rounded p-2","onUpdate:modelValue":s[3]||(s[3]=a=>t(o).email=a),required:"",autofocus:"",autocomplete:"lastname"},null,512),[[b,t(o).email]]),t(o).errors.email?(p(),m("div",L,u(t(o).errors.email),1)):f("",!0)])]),s[14]||(s[14]=e("div",null,[e("h4",{class:"text-lg font-semibold"}),e("p")],-1)),e("div",null,[s[12]||(s[12]=e("h4",{class:"text-lg font-semibold"},"Crée le",-1)),e("p",null,u(t(P)(t(l).created_at)),1)]),e("div",null,[s[13]||(s[13]=e("h4",{class:"text-lg font-semibold"},"Modifié le",-1)),e("p",null,u(t(P)(t(l).updated_at)),1)])]),e("div",O,[n(D,{disabled:t(o).processing},{texte:y(()=>s[15]||(s[15]=[S("Sauvegarder le profil")])),_:1},8,["disabled"]),n(I,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:y(()=>[t(o).recentlySuccessful?(p(),m("p",Q," Sauvegardé. ")):f("",!0)]),_:1})])],32)]),e("div",R,[s[22]||(s[22]=e("h3",{class:"text-xl font-semibold"},"Modification de mot de passe",-1)),e("form",{onSubmit:x(U,["prevent"]),class:"mt-6 space-y-6"},[e("div",z,[e("div",null,[s[17]||(s[17]=e("h4",{class:"text-lg font-semibold"},"Votre mot de passe actuel",-1)),n(V,{id:"current_password",ref_key:"passwordInput",ref:d,modelValue:t(r).current_password,"onUpdate:modelValue":s[5]||(s[5]=a=>t(r).current_password=a),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),n(k,{message:t(r).errors.current_password,class:"mt-2"},null,8,["message"])]),s[20]||(s[20]=e("div",null,null,-1)),e("div",null,[s[18]||(s[18]=e("h4",{class:"text-lg font-semibold"},"Nouveau Mot de passe",-1)),n(V,{id:"password",ref_key:"passwordInput",ref:d,modelValue:t(r).password,"onUpdate:modelValue":s[6]||(s[6]=a=>t(r).password=a),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),n(k,{message:t(r).errors.password,class:"mt-2"},null,8,["message"])]),e("div",null,[s[19]||(s[19]=e("h4",{class:"text-lg font-semibold"},"Confirmation du mot de passe",-1)),n(V,{id:"password_confirmation",modelValue:t(r).password_confirmation,"onUpdate:modelValue":s[7]||(s[7]=a=>t(r).password_confirmation=a),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),n(k,{message:t(r).errors.password_confirmation,class:"mt-2"},null,8,["message"])])]),n(D,{disabled:t(o).processing},{texte:y(()=>s[21]||(s[21]=[S("Modifier le mot de passe")])),_:1},8,["disabled"])],32)])])]))}});export{K as _};
